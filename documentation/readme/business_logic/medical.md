

О чем речь:

Обращение, посещение, медицинская услуга

Представим ситуацию: у пациента заболел зуб. 
Пациент открывает всех врачей нужного отделения, выбирает нужный ему талон, записывается на прием.
Когда пациент пришел к доктору - доктор определяет ЗАБОЛЕВАНИЕ которое он будет лечить у пациента.
Доктор заводит ОБРАЩЕНИЕ_ПО_ЗАБОЛЕВАНИЮ.
Доктор создает ПОСЕЩЕНИЕ и привязывает его к обращению по заболеванию.
Далее доктор оказывает МЕДИЦИНСКИЕ_УСЛУГИ пациенту. Все они привязаны к текущему посещению.

Возможен сценарий когда доктор не может выложить пациента в одно или даже два посещения. 
В такой ситуации доктор или мед регистратор записывают пациента на другой талон.

Допустим через неделю пациент явился на прием - а доктор заболел. 
Пациента назначают к другому доктору из этого отделения.
Новый доктор по пациенту находит его обращения и находит то которое, относится к могу с которым пациент явился.
Доктор создает еще одно посещение в этом обращении и оказывает услуги в рамках нового посещения.

Если после этого посещения заболевание было вылечено, доктор закрывает обращение по заболеванию пациента
