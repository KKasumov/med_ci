
о чем речь:

УЕТ, цена медицинской услуги

УЕТ - условная единица трудозатрат.
Это некий множитель который используется в формуле расчета цены услуги оплачиваемой по ОМС
цена УЕТ кратна месяца - то есть она не меняется посредине месяца. Измеряется в рублях, например 123.45 рублей
Не может быть временных нахлестов цен УЕТ
Не может быть разрывов между ценами УЕТ - фактически это остановка деятельности юридического лица на оказание услуг по ОМС
ЦЕНА_МЕДИЦИНСКОЙ_УСЛУГИ - непосредственная стоимость услуги, которая измеряется в УЕТ, кратна 0.25, например 1.25 УЕТ.
У каждой медуслуги должны быть свои цены
цена мед услуги может меняться хоть каждый день (но не чаще чем 1 раз в месяц).
у медуслуги даже может не быть цены, но ее нельзя оказывать в эти моменты в рамках ОМС
Не может быть временных нахлестов цен мед услуг

Представим ситуацию:
у пациента было 2 обращения
лечение 1 обращения пациента было выполнено в 2 посещения:
20 сентября пациенту оказали 3 услуги: очистка полости зуба, удаление нерва(мышьяк), установка временной пломбы.
3 октября пациенту оказали 2 услуги: удаление временной пломбы, установка постоянной пломбы

Лечение 2 обращения пациента было выполнено в 1 посещение:
28 сентября пациенту оказали 2 услуги: очистка полости зуба, установка постоянной пломбы.


Цена УЕТ в сентябре - 123.10 Р
цена УЕТ в октябре  - 130.50 Р

Очистка полости зуба        - до 25 сентября 2.5 УЕТ, с 26 сентября 2.25 УЕТ
удаление нерва              - 3.75 УЕТ
установка временной пломбы  - 1.75 УЕТ
удаление временной пломбы   - 1.0 УЕТ
установка постоянной пломбы - до 30 сентября 7.25 УЕТ с 1 октября 6.75 УЕТ

Вопрос: сколько денег заработала стоматологическая поликлиника на этом пациенте?
20 сентября = (2.5 + 3.75 + 1.75) * 123.10 = 984.8 Р
28 сентября = (2.25 + 7.25) * 123.10 = 1169.45 Р
3 октября = (1.0 + 6.75) * 130.50 = 1011.38 Р

ИТОГО: 3165.63 Р

Напоминаю - все цифры взяты абы откуда и не важны нам для разработки.



О чем речь:

муниципальный заказ, смо, счет

Экономист

ЛПУ рассчитывает свои траты на аренду помещений, коммунальные услуги, медикаменты,
оклады(!) сотрудников, траты на модернизацию оборудования и бла бла бла - сколько денег надо заработать ЛПУ что бы существовать.
Рассчитывается средняя нагрузка пациентов за предыдущие периоды, население на территории, которую обслуживает ЛПУ по
очень сложной формуле и высчитывается сумма денег, которую может заработать ЛПУ за год.
Потом эта сумма делится на 12 месяцев и на процентное соотношение застрахованных в разрезе СМО.
Таким образом получается примерное количество денег, которое может получить ЛПУ из запланированных для своей работы.

Пациенты, которые имеют регистрацию и полис ОМС другого региона оплачиваются СМО региона из которого они приехали и эта сумма
не входит в МУНИЦИПАЛЬНЫЙ_ЗАКАЗ (далее МЗ).
МЗ - сумма денег которую выделяют ЛПУ за лечение пациентов проживающих на закрепленной за ЛПУ территории

Пример:
на год ЛПУ выделили 12'000'000 рублей
в регионе присутствует 3 СМО и пациентов у них соответственно: 10%, 30%, 60%
будет создан план по которому сумму разобьют по долям присутствия СМО в регионе
и каждую СМО на 12 месяцев: 100'000р, 300'000р, 600'000р для каждой.

Но никто не знает какие пациенты заболеют и придут лечиться, поэтому один раз в месяц, не позднее 20 числа,
ЛПУ может сделать "передвижку" и перенести часть денег из одной страховой компании в другую - наугад.
Причина простая - денег всегда не хватает и каждый месяц надо получить максимум.

Пример:
экономист держит руку на пульсе и видит, что в этом месяце застрахованных в СМО3 мало, но много в СМО1 и СМО2.
Экономист сделает передвижку: СМО3 - 100'000, CMO1 + 40'000, CMO2 + 60'000

Далее в последний день месяца экономист сформирует СЧЕТ и увидит - угадал ли он.
Экономист должен сформировать по каждой страховой компании основной счет - за пролеченных в этом месяце.
Он не может превышать сумму, максимально запланированную в этом месяце. Экономист отправляет счет на оплату с
выгрузкой застрахованных по защищенным каналам. Смо принимает такие отчеты ото всех ЛПУ, проверяет их, и в случае ошибок,
может вернуть обратно обращения, которые она не хочет принимать. Экономист может удалить переданное обращение из счета,
расформировать счет и добавить в счет (при наличии) другие обращения. Сформировать счет и отправить повторно в смо.
Если сумма оказалась меньше, невыбранные деньги попадают в остаток этой СМО и делятся на оставшееся количество месяцев.
Если получилось превышение муниципального заказа - эти обращения можно выставить в следующем месяце повторным счетом.
Если это не сделать - больше шанса не будет (обращения не будут приняты в оплате спустя 1 отчетный период).


наша задача - помочь экономисту
- мы должны написать функционал, который поможет управлять счетами,
- правильно удалять и добавлять обращения, что бы максимально приблизиться к максимальной сумме
- актуализировать муниципальный заказ
- анализировать обращения, что бы экономист мог планировать передвижку
- написать большое количество методов анализа экономической деятельности ЛПУ